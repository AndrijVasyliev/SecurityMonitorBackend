"use strict";(self.webpackChunk_log4u_admin_frontend=self.webpackChunk_log4u_admin_frontend||[]).push([[1174],{1174:(e,i,t)=>{t.r(i),t.d(i,{default:()=>b});var a=t(9379),r=t(5043),s=t(9781),n=t(5604),o=t(2836),d=t(3892),l=t(899),u=t(7353),m=t(1906),c=t(3189),h=t(1079),f=t(4944),x=t(6431),p=t(579);const g=l.Ik({zipCode:l.Yj().required("Zip Code is required"),name:l.Yj().required("Name is required"),stateCode:l.Yj().required("State Code is required"),stateName:l.Yj().required("State Name is required"),location:l.PV([l.ai().typeError("Latitude is required").min(-90,"Latitude must be grater than or equal: -90").max(90,"Latitude must be less than or equal: 90").required('Location should be in format "latitude, longitude"'),l.ai().typeError("Longitude is required").min(-180,"Longitude must be grater than or equal: -180").max(180,"Longitude must be less than or equal: 180").required('Location should be in format "latitude, longitude"')]).required("Location is required")}),j={id:"",zipCode:"",name:"",stateCode:"",stateName:"",location:[NaN,NaN]};function b(e){let{id:i,onClose:t}=e;const l=(0,s.jE)(),b=(0,f.dh)(),{isLoading:y,isFetching:q,error:N,data:A}=(0,n.I)({queryKey:["location",i],queryFn:h.o,retry:!1});r.useEffect((()=>{N&&b({severity:"error",message:N instanceof Error?N.message:JSON.stringify(N)})}),[N]);const{mutate:C,isLoading:v}=(0,o.n)(h.T,{onSuccess:e=>{b({severity:"success",message:"Saved"}),l.invalidateQueries(["location",i]),l.invalidateQueries(["locations"]),t("Save",e)},onError:e=>{b({severity:"error",message:e instanceof Error?e.message:JSON.stringify(e)})}}),S=(0,d.Wx)({initialValues:(0,a.A)((0,a.A)({},j),(0,x.jv)(A,Object.keys(j))),enableReinitialize:!0,validationSchema:g,onSubmit:e=>{C(e)}});return(0,p.jsxs)(u.A,{children:[(0,p.jsx)("form",{onSubmit:S.handleSubmit,onReset:S.handleReset,children:(0,p.jsxs)(u.A,{sx:{p:3,display:"grid"},children:[(0,p.jsxs)(u.A,{sx:{display:"inline-flex"},children:[(0,p.jsxs)(u.A,{sx:{p:1,width:"50%"},children:[(0,p.jsx)(c.A_,{fieldName:"name",label:"Name",formik:S}),(0,p.jsx)(c.A_,{fieldName:"stateName",label:"State Name",formik:S})]},"left"),(0,p.jsxs)(u.A,{sx:{p:1,width:"50%"},children:[(0,p.jsx)(c.A_,{fieldName:"zipCode",label:"Zip Code",formik:S}),(0,p.jsx)(c.A_,{fieldName:"stateCode",label:"State Code",formik:S})]},"right")]},"controls"),(0,p.jsx)(u.A,{sx:{marginTop:-2,display:"inline-flex"},children:(0,p.jsx)(c.QI,{fieldName:"location",label:["Latitude","Longitude"],formik:S})},"location"),(0,p.jsxs)(u.A,{sx:{display:"inline-flex"},children:[(0,p.jsx)(u.A,{sx:{p:1,paddingTop:0,width:"50%"},children:(0,p.jsx)(m.A,{fullWidth:!0,variant:"contained",size:"small",color:"primary",type:"submit",disabled:!S.dirty,children:"Save"})},"left"),(0,p.jsx)(u.A,{sx:{p:1,paddingTop:0,width:"50%"},children:(0,p.jsx)(m.A,{fullWidth:!0,variant:"contained",size:"small",color:"primary",type:"button",onClick:()=>{t("Close")},children:"Cancel"})},"right")]},"buttons")]})}),(0,p.jsx)(c.aH,{visible:v||y||q})]})}}}]);
//# sourceMappingURL=1174.5745a21d.chunk.js.map