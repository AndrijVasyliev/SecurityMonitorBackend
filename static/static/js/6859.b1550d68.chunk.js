"use strict";(self.webpackChunk_log4u_admin_frontend=self.webpackChunk_log4u_admin_frontend||[]).push([[6859],{6859:(e,i,s)=>{s.r(i),s.d(i,{default:()=>b});var r=s(9379),a=s(5043),t=s(9781),d=s(5604),n=s(2836),l=s(3892),o=s(899),u=s(7353),c=s(1906),m=s(3189),h=s(1079),f=s(4944),x=s(6431),y=s(579);const g=o.Ik({name:o.Yj().required("Facility name is required"),address:o.Yj().required("Address is required"),address2:o.Yj(),facilityLocation:o.PV([o.ai().typeError("Latitude is required").min(-90,"Latitude must be grater than or equal: -90").max(90,"Latitude must be less than or equal: 90").required('Location should be in format "latitude, longitude"'),o.ai().typeError("Longitude is required").min(-180,"Longitude must be grater than or equal: -180").max(180,"Longitude must be less than or equal: 180").required('Location should be in format "latitude, longitude"')]).required("Location is required")}),p={id:"",name:void 0,address:void 0,address2:void 0,facilityLocation:void 0};function b(e){let{id:i,onClose:s}=e;const o=(0,t.jE)(),b=(0,f.dh)(),{isLoading:j,isFetching:A,error:v,data:L}=(0,d.I)({queryKey:["facility",i],queryFn:h.S0,retry:!1});a.useEffect((()=>{v&&b({severity:"error",message:v instanceof Error?v.message:JSON.stringify(v)})}),[v]);const{mutate:q,isLoading:k}=(0,n.n)(h.ZK,{onSuccess:e=>{b({severity:"success",message:"Saved"}),o.invalidateQueries(["facility",i]),o.invalidateQueries(["facilities"]),s("Save",e)},onError:e=>{b({severity:"error",message:e instanceof Error?e.message:JSON.stringify(e)})}}),S=(0,l.Wx)({initialValues:(0,r.A)((0,r.A)({},p),(0,x.jv)(L,Object.keys(p))),enableReinitialize:!0,validationSchema:g,onSubmit:e=>{q(e)}});return(0,y.jsxs)(u.A,{children:[(0,y.jsx)("form",{onSubmit:S.handleSubmit,onReset:S.handleReset,children:(0,y.jsxs)(u.A,{sx:{p:3,display:"grid"},children:[(0,y.jsxs)(u.A,{sx:{display:"inline-flex"},children:[(0,y.jsxs)(u.A,{sx:{p:1,width:"50%"},children:[(0,y.jsx)(m.A_,{fieldName:"name",label:"Facility Name",formik:S}),(0,y.jsx)(m.A_,{fieldName:"address",label:"Address Line 1",placeholder:"Building number and street name",formik:S})]},"left"),(0,y.jsxs)(u.A,{sx:{p:1,width:"50%"},children:[(0,y.jsx)(m.Mc,{fieldName:"facilityLocation",label:"Location",placeholder:"Enter localion",formik:S}),(0,y.jsx)(m.A_,{fieldName:"address2",label:"Address Line 2",placeholder:"Apartment#, suite#, box#, etc",formik:S})]},"right")]},"controls"),(0,y.jsxs)(u.A,{sx:{display:"inline-flex"},children:[(0,y.jsx)(u.A,{sx:{p:1,paddingTop:0,width:"50%"},children:(0,y.jsx)(c.A,{fullWidth:!0,variant:"contained",size:"small",color:"primary",type:"submit",disabled:!S.dirty,children:"Save"})},"left"),(0,y.jsx)(u.A,{sx:{p:1,paddingTop:0,width:"50%"},children:(0,y.jsx)(c.A,{fullWidth:!0,variant:"contained",size:"small",color:"primary",type:"button",onClick:()=>{s("Close")},children:"Cancel"})},"right")]},"buttons")]})}),(0,y.jsx)(m.aH,{visible:k||j||A})]})}}}]);
//# sourceMappingURL=6859.b1550d68.chunk.js.map