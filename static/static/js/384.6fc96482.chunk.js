"use strict";(self.webpackChunk_log4u_admin_frontend=self.webpackChunk_log4u_admin_frontend||[]).push([[384],{86:(e,i,t)=>{t.r(i),t.d(i,{default:()=>T,getInitialStopDeliveryValues:()=>F,getInitialStopPickUpValues:()=>S,initialFreightValues:()=>P});var a=t(9379),l=(t(5043),t(9781)),r=t(2836),n=t(3892),s=t(899),o=t(7353),d=t(1906),c=t(9336),u=t(1403),f=t(6216),m=t(9893),p=t(4361),h=t(3189),b=t(1079),x=t(4944),g=t(8833),j=t(287),A=t(579);const k=s.Ik({type:s.Yj().oneOf([g.P7.FCFS,g.P7.ASAP,g.P7.APPT]).required("Type is required"),at:s.p6().when(["type"],((e,i)=>e[0]===g.P7.FCFS?i.oneOf([void 0]):i.required("At is required"))),from:s.p6().when(["type"],((e,i)=>e[0]!==g.P7.FCFS?i.oneOf([void 0]):i.required("From is required"))),to:s.p6().when(["type"],((e,i)=>e[0]!==g.P7.FCFS?i.oneOf([void 0]):i.required("To is required")))}),y=s.Ik({type:s.Yj().oneOf([g.P7.FCFS,g.P7.Direct,g.P7.APPT]).required("Type is required"),at:s.p6().when(["type"],((e,i)=>e[0]===g.P7.FCFS?i.oneOf([void 0]):i.required("At is required"))),from:s.p6().when(["type"],((e,i)=>e[0]!==g.P7.FCFS?i.oneOf([void 0]):i.required("From is required"))),to:s.p6().when(["type"],((e,i)=>e[0]!==g.P7.FCFS?i.oneOf([void 0]):i.required("To is required")))}),v=s.Ik({pieces:s.ai().integer().min(1).required("Pieces must be at least 1"),unitOfWeight:s.Yj().oneOf(g.Lv).required("Unit of weight is required"),weight:s.ai().moreThan(0).required("Weight is required"),unitOfLength:s.Yj().oneOf(g.Ny).required("Unit of length is required"),length:s.ai().moreThan(0).required("Length is required")}),N=s.Ik({status:s.Yj().oneOf(g.h9).required("Stop Pick Up Status is required"),facility:s.Ik({id:s.Yj().required()}).typeError("Enter correct facility").required("Facility is required"),timeFrame:k.required("Time frame is required"),freightList:s.YO().of(v.required("Freight is required")).required("Stop pickup must contain al least one freight"),addInfo:s.Yj()}),C=s.Ik({status:s.Yj().oneOf(g.$W).required("Stop Delivery Status is required"),facility:s.Ik({id:s.Yj().required()}).typeError("Enter correct facility").required("Facility is required"),timeFrame:y.required("Time frame is required"),bolList:s.YO().of(s.Yj().required("Bol Id must not be empty")).min(1,"Must be at least one Freight in Freight List").required("Must be at least one Freight in Freight List"),addInfo:s.Yj()}),I=s.Ik({status:s.Yj().oneOf(g.Jf).required("Status is required"),ref:s.YO().of(s.Yj().required("Ref must not be empty")).min(1,"REF is required").max(3,"REF must contain not more then 3 items").required("REF is required"),stops:s.YO().of(s.RZ((e=>{switch(e.type){case g.lk.PickUp:return N.required("Stop pickup is required");case g.lk.Delivery:return C.required("Stop delivery is required");default:return s.gl().oneOf([void 0]).required('Type of stop must be "Pick Up" or "Delivery"')}}))).min(2).required("Stops are required"),weight:s.Yj().required("Weight is required"),truckType:s.YO(s.Yj().oneOf(g.Ju)).min(1,"Select at list one").required("Truck Type is required"),rate:s.ai().typeError("Rate must be a number"),totalCharges:s.ai().typeError("Total charges must be a number").required("Total charges is required"),currency:s.Yj().required("Currency is required"),bookedByUser:s.Ik({id:s.Yj().required()}).typeError("Enter correct user").required("Booked by is required"),bookedByCompany:s.Yj(),assignTo:s.YO(s.Ik({id:s.Yj().required()}).typeError("Enter correct user")).min(1,"Assign To is required").required("Assign To is required"),checkInAs:s.Yj(),truck:s.Ik({id:s.Yj().required()}).typeError("Enter correct truck").nullable(),bookedWith:s.Ik({id:s.Yj().required()}).typeError("Enter correct customer").required("Booked with is required")}),w={type:g.P7.APPT,at:null},L={type:g.P7.APPT,at:null},P={pieces:null,unitOfWeight:"LBS",weight:null,unitOfLength:"IN",length:null},S=()=>({type:g.lk.PickUp,status:"New",timeFrame:w,facility:null,freightList:[(0,a.A)({freightId:(0,j.M)()},P)],addInfo:void 0}),F=()=>({type:g.lk.Delivery,status:"New",timeFrame:L,facility:null,addInfo:void 0}),q={status:"Available",ref:[],stops:[S(),F()],weight:void 0,truckType:[],rate:void 0,totalCharges:void 0,currency:"USD",bookedByUser:null,bookedByCompany:void 0,assignTo:[],checkInAs:"4ULogistics",truck:null,bookedWith:null};function T(e){let{onClose:i}=e;const t=(0,l.jE)(),a=(0,x.dh)(),{mutate:s,isLoading:j}=(0,r.n)(b.te,{onSuccess:e=>{a({severity:"success",message:"Created"}),t.invalidateQueries(["loads"]),i("Create",e)},onError:e=>{a({severity:"error",message:e instanceof Error?e.message:JSON.stringify(e)})}}),k=(0,n.Wx)({initialValues:q,enableReinitialize:!0,validationSchema:I,onSubmit:e=>{s(e)}});return(0,A.jsxs)(o.A,{sx:{height:"100%"},children:[(0,A.jsx)("form",{onSubmit:k.handleSubmit,onReset:k.handleReset,style:{height:"100%"},children:(0,A.jsxs)(o.A,{sx:{p:3,height:"100%"},children:[(0,A.jsx)(c.A,{}),(0,A.jsxs)(o.A,{sx:{maxHeight:"calc(100% - 70px)",overflowX:"hidden",overflowY:"scroll"},children:[(0,A.jsxs)(o.A,{sx:{marginBottom:-1,p:1},children:[(0,A.jsx)(h.zM,{fieldName:"status",label:"Status",items:g.Jf,disabledItems:g.Jf.filter((e=>"Available"!==e)),formik:k}),(0,A.jsx)(h.A_,{fieldName:"ref",label:"REF",multiline:!0,maxRows:3,formik:k}),(0,A.jsx)(p.A,{fieldName:"stops",formik:k})]},"topControls"),(0,A.jsxs)(o.A,{sx:{display:"inline-flex",width:"100%"},children:[(0,A.jsxs)(o.A,{sx:{p:1,width:"50%"},children:[(0,A.jsx)(h.A_,{fieldName:"weight",label:"Weight",formik:k}),(0,A.jsx)(h.yJ,{fieldName:"truckType",label:"Truck Type",items:g.Ju,formik:k}),(0,A.jsx)(h.Lw,{fieldName:"bookedByUser",label:"Booked By",getSelectedLabel:e=>"".concat(e.fullName),getItemLabel:e=>"".concat(e.fullName),getItemSecondLabel:e=>"".concat(e.jobTitle),ListIcon:m.A,entityType:"User",queryFn:b.Fw,orderby:"fullName",order:"asc",formik:k}),(0,A.jsx)(h.Lw,{fieldName:"bookedWith",label:"Booked With",getSelectedLabel:e=>"".concat(e.name),getItemLabel:e=>"".concat(e.name),getItemSecondLabel:e=>"".concat(e.type),ListIcon:f.A,entityType:"Customer",queryFn:b.sg,orderby:"name",order:"asc",formik:k}),(0,A.jsx)(h.Lw,{fieldName:"truck",label:"Truck",getSelectedLabel:e=>"".concat(e.truckNumber),getItemLabel:e=>"".concat(e.truckNumber),getItemSecondLabel:e=>"".concat(e.status,", ").concat(e.licencePlate),ListIcon:u.A,entityType:"Truck",queryFn:b.fG,orderby:"truckNumber",order:"asc",formik:k})]},"left"),(0,A.jsxs)(o.A,{sx:{p:1,width:"50%"},children:[(0,A.jsx)(h.A_,{fieldName:"rate",label:"Drivers Rate",placeholder:"Enter drivers rate",number:!0,formik:k}),(0,A.jsx)(h.A_,{fieldName:"totalCharges",label:"Total Rate",placeholder:"Enter total rate",number:!0,formik:k}),(0,A.jsx)(h.A_,{fieldName:"currency",label:"Currency",formik:k}),(0,A.jsx)(h.A_,{fieldName:"checkInAs",label:"Check In As",formik:k}),(0,A.jsx)(h.A_,{fieldName:"bookedByCompany",label:"Booked By Company",formik:k})]},"right")]},"centerControls"),(0,A.jsxs)(o.A,{sx:{p:1,paddingBottom:0,paddingTop:0},children:[(0,A.jsx)(h.YY,{fieldName:"assignTo",label:"Assign To",getSelectedLabel:e=>"".concat(e.fullName),getItemLabel:e=>"".concat(e.fullName),getItemSecondLabel:e=>"".concat(e.jobTitle),ListIcon:m.A,queryFn:b.Fw,orderby:"fullName",order:"asc",formik:k}),(0,A.jsx)(o.A,{sx:{paddingBottom:2,paddingTop:2}},"spacerRate"),(0,A.jsx)(h.$c,{objectId:void 0,objectType:"Load",label:"Rate Files",tags:{["".concat(void 0)]:"Rate"},disabled:!0}),(0,A.jsx)(o.A,{sx:{paddingBottom:2,paddingTop:2}},"spacerBill"),(0,A.jsx)(h.$c,{objectId:void 0,objectType:"Load",label:"Bill Files",tags:{["".concat(void 0)]:"Bill"},disabled:!0})]},"bottomControls")]},"controls"),(0,A.jsx)(c.A,{}),(0,A.jsxs)(o.A,{sx:{paddingTop:3,display:"flex"},children:[(0,A.jsx)(o.A,{sx:{p:1,paddingTop:0,width:"50%"},children:(0,A.jsx)(d.A,{fullWidth:!0,variant:"contained",size:"small",color:"primary",type:"submit",children:"Create"})},"left"),(0,A.jsx)(o.A,{sx:{p:1,paddingTop:0,width:"50%"},children:(0,A.jsx)(d.A,{fullWidth:!0,variant:"contained",size:"small",color:"primary",type:"button",onClick:()=>{i("Close")},children:"Cancel"})},"right")]},"buttons")]})}),(0,A.jsx)(h.aH,{visible:j})]})}},4361:(e,i,t)=>{t.d(i,{A:()=>R});var a=t(5043),l=t(3097),r=t.n(l),n=t(7353),s=t(3766),o=t(6605),d=t(710),c=t(1477),u=t(5954),f=t(4496),m=t(7392),p=t(9662),h=t(579);const b=(0,p.A)((0,h.jsx)("path",{d:"m4 12 1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8z"}),"ArrowUpward"),x=(0,p.A)((0,h.jsx)("path",{d:"m20 12-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8z"}),"ArrowDownward");var g=t(141);const j=(0,p.A)((0,h.jsx)("path",{d:"M19 13H5v-2h14z"}),"Remove");var A=t(3189),k=t(8833);function y(e){let{fieldName:i,values:t,disabled:l,formik:s}=e;const o=r()(s.values,i);return a.useEffect((()=>{o.type===k.P7.FCFS?((o.at||null===o.at)&&s.setFieldValue("".concat(i,".at"),void 0),!o.from&&s.setFieldValue("".concat(i,".from"),null),!o.to&&s.setFieldValue("".concat(i,".to"),null)):o.type&&(!o.at&&s.setFieldValue("".concat(i,".at"),null),(o.from||null===o.from)&&s.setFieldValue("".concat(i,".from"),void 0),(o.to||null===o.to)&&s.setFieldValue("".concat(i,".to"),void 0))}),[o.type]),(0,h.jsxs)(n.A,{sx:{display:"flex",width:"100%"},children:[(0,h.jsx)(n.A,{sx:{paddingRight:1,flex:1},children:(0,h.jsx)(A.zM,{fieldName:"".concat(i,".type"),label:"Time frame type",items:t,disabled:l,formik:s})},"typeContainer"),o.type===k.P7.FCFS?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(n.A,{sx:{paddingRight:1,paddingLeft:1,flex:1},children:(0,h.jsx)(A.Id,{fieldName:"".concat(i,".from"),label:"From",minDateTime:new Date(Date.now()-864e5),disabled:l,formik:s})},"fromContainer"),(0,h.jsx)(n.A,{sx:{paddingLeft:1,flex:1},children:(0,h.jsx)(A.Id,{fieldName:"".concat(i,".to"),label:"To",minDateTime:new Date(Date.now()-864e5),disabled:l,formik:s})},"toContainer")]}):(0,h.jsx)(n.A,{sx:{paddingLeft:1,flex:1},children:(0,h.jsx)(A.Id,{fieldName:"".concat(i,".at"),label:"At",minDateTime:new Date(Date.now()-864e5),disabled:l,formik:s})},"atContainer")]},"inlineControls")}var v=t(9379),N=t(7166);function C(e){let{number:i,fieldName:t,onAdd:l,onRemove:r,removeDisabled:c,disabled:p,formik:b}=e;const[x,y]=a.useState(!1);return(0,h.jsxs)(s.A,{expanded:x,onChange:()=>{y((e=>!e))},sx:{backgroundColor:"unset"},children:[(0,h.jsx)(o.A,{expandIcon:(0,h.jsx)(u.A,{}),"aria-controls":"freight-content",id:"freight-header",children:(0,h.jsxs)(n.A,{sx:{width:"100%",display:"flex",justifyContent:"space-between"},children:[(0,h.jsx)(f.A,{children:"Freight #".concat(i)}),(0,h.jsxs)(n.A,{children:[(0,h.jsx)(m.A,{component:"label","aria-label":"add",sx:{padding:0},onClickCapture:e=>{(0,N.d)(e),l()},disabled:p,children:(0,h.jsx)(g.A,{})}),(0,h.jsx)(m.A,{component:"label","aria-label":"remove",sx:{padding:0},onClickCapture:e=>{(0,N.d)(e),r()},disabled:p||c,children:(0,h.jsx)(j,{})})]})]})}),(0,h.jsxs)(d.A,{children:[(0,h.jsx)(A.A_,{fieldName:"".concat(t,".pieces"),label:"Pieces",number:!0,disabled:p,formik:b}),(0,h.jsxs)(n.A,{sx:{display:"flex",width:"100%"},children:[(0,h.jsxs)(n.A,{sx:{paddingRight:1,flex:1},children:[(0,h.jsx)(A.zM,{fieldName:"".concat(t,".unitOfWeight"),label:"Unit Of Weight",items:k.Lv,disabled:p,formik:b}),(0,h.jsx)(A.A_,{fieldName:"".concat(t,".weight"),label:"Weight",number:!0,disabled:p,formik:b})]},"left"),(0,h.jsxs)(n.A,{sx:{paddingLeft:1,flex:1},children:[(0,h.jsx)(A.zM,{fieldName:"".concat(t,".unitOfLength"),label:"Unit Of Length",items:k.Ny,disabled:p,formik:b}),(0,h.jsx)(A.A_,{fieldName:"".concat(t,".length"),label:"Length",number:!0,disabled:p,formik:b})]},"right")]},"inlineControls")]})]})}var I=t(86),w=t(287);function L(e){let{fieldName:i,disabled:t,formik:a}=e;const l=r()(a.values,i);return(0,h.jsx)(n.A,{sx:{paddingBottom:3,width:"100%"},children:l.map(((e,r)=>(0,h.jsx)(C,{number:r+1,fieldName:"".concat(i,"[").concat(r,"]"),onAdd:()=>(e=>{const t=l.toSpliced(e+1,0,(0,v.A)({freightId:(0,w.M)()},I.initialFreightValues));a.setFieldValue(i,t)})(r),onRemove:()=>(e=>{const t=l.toSpliced(e,1);a.setFieldValue(i,t)})(r),removeDisabled:1===l.length,disabled:t,formik:a},r)))},"freightList")}function P(e){let{number:i,fieldName:t,freightListPath:l,disabled:c,formik:m}=e;const p=r()(m.values,"id"),b=r()(m.values,"".concat(t,".driversInfoId")),x=r()(m.values,l),g=(null===x||void 0===x?void 0:x.filter((e=>e.freightId)).map(((e,i)=>({value:e.freightId,label:"Freight #".concat(i+1,": ").concat(e.pieces?e.pieces+" pcs, ":"").concat(e.length&&e.unitOfLength?e.length+" "+e.unitOfLength+" length, ":"").concat(e.weight&&e.unitOfWeight?e.weight+" "+e.unitOfWeight+" weight":"")}))))||[],[j,y]=a.useState(!1);return(0,h.jsxs)(s.A,{expanded:j,onChange:()=>{y((e=>!e))},sx:{backgroundColor:"unset"},children:[(0,h.jsx)(o.A,{expandIcon:(0,h.jsx)(u.A,{}),"aria-controls":"freight-content",id:"freight-header",children:(0,h.jsx)(n.A,{sx:{width:"100%",display:"flex",justifyContent:"space-between"},children:(0,h.jsx)(f.A,{children:"Drivers Info #".concat(i)})})}),(0,h.jsxs)(d.A,{children:[(0,h.jsxs)(n.A,{sx:{display:"flex",width:"100%"},children:[(0,h.jsxs)(n.A,{sx:{paddingRight:1,flex:1},children:[(0,h.jsx)(A.zM,{fieldName:"".concat(t,".bol"),label:"Bol",items:g,disabled:c,formik:m}),(0,h.jsx)(A.zM,{fieldName:"".concat(t,".unitOfWeight"),label:"Unit Of Weight",items:k.Lv,disabled:c,formik:m}),(0,h.jsx)(A.A_,{fieldName:"".concat(t,".weight"),label:"Weight",number:!0,disabled:c,formik:m})]},"left"),(0,h.jsxs)(n.A,{sx:{paddingLeft:1,flex:1},children:[(0,h.jsx)(A.A_,{fieldName:"".concat(t,".pieces"),label:"Pieces",number:!0,disabled:c,formik:m}),(0,h.jsx)(A.A_,{fieldName:"".concat(t,".seal"),label:"Seal",disabled:c,formik:m}),(0,h.jsx)(A.zM,{fieldName:"".concat(t,".addressIsCorrect"),label:"Address is correct",items:[{value:!0,label:"Yes"},{value:!1,label:"No"}],disabled:c,formik:m})]},"right")]},"inlineControls"),(0,h.jsx)(A.$c,{objectId:p,objectType:"Load",label:"Stop Drivers Files",tags:{["".concat(b)]:"StopPickUpDriversInfo"},disabled:c})]})]})}function S(e){let{fieldName:i,freightListPath:t,disabled:a,formik:l}=e;const s=r()(l.values,i);return(0,h.jsx)(n.A,{sx:{paddingBottom:3,width:"100%"},children:s.map(((e,r)=>(0,h.jsx)(P,{number:r+1,fieldName:"".concat(i,"[").concat(r,"]"),freightListPath:t,disabled:a,formik:l},r)))},"pickUpDriversInfo")}var F=t(1079);const q=e=>{switch(e){case void 0:case"New":case"Completed":return"";default:return"".concat(e)}};function T(e){let{stopNumber:i,pickUpNumber:t,fieldName:l,onUp:p,onDown:v,onAdd:C,onRemove:I,upDisabled:w,downDisabled:P,removeDisabled:T,disabled:D,formik:O}=e;const E=r()(O.values,"".concat(l,".status")),R=r()(O.values,"".concat(l,".driversInfo")),U=q(E),B=D,[W,Y]=a.useState(!1);return(0,h.jsxs)(s.A,{expanded:W,onChange:()=>{Y((e=>!e))},sx:{backgroundColor:"unset"},children:[(0,h.jsx)(o.A,{expandIcon:(0,h.jsx)(u.A,{}),"aria-controls":"stop-pickup-content",id:"stop-pickup-header",children:(0,h.jsxs)(n.A,{sx:{width:"100%",display:"flex",justifyContent:"space-between"},children:[(0,h.jsx)(f.A,{color:"New"===E?"new":"Completed"===E?"completed":"inProgress",children:"Stop (".concat(i,")").concat(U?" ["+U+"] ":" ","PickUp #").concat(t)}),(0,h.jsxs)(n.A,{children:[(0,h.jsx)(m.A,{component:"label","aria-label":"up",sx:{padding:0},onClickCapture:e=>{(0,N.d)(e),p()},disabled:D||w,children:(0,h.jsx)(b,{})}),(0,h.jsx)(m.A,{component:"label","aria-label":"down",sx:{padding:0},onClickCapture:e=>{(0,N.d)(e),v()},disabled:D||P,children:(0,h.jsx)(x,{})}),(0,h.jsx)(m.A,{component:"label","aria-label":"add",sx:{padding:0},onClickCapture:e=>{(0,N.d)(e),C()},disabled:D,children:(0,h.jsx)(g.A,{})}),(0,h.jsx)(m.A,{component:"label","aria-label":"remove",sx:{padding:0},onClickCapture:e=>{(0,N.d)(e),I()},disabled:D||T,children:(0,h.jsx)(j,{})})]})]})}),(0,h.jsxs)(d.A,{children:[(0,h.jsxs)(n.A,{sx:{display:"flex",width:"100%"},children:[(0,h.jsx)(n.A,{sx:{paddingRight:1,flex:1},children:(0,h.jsx)(A.zM,{fieldName:"".concat(l,".status"),label:"Status",items:k.h9,disabled:B,formik:O})},"statusContainer"),(0,h.jsx)(n.A,{sx:{paddingLeft:1,flex:1},children:(0,h.jsx)(A.Lw,{fieldName:"".concat(l,".facility"),label:"Facility",getSelectedLabel:e=>"".concat(e.name),getItemLabel:e=>"".concat(e.name),getItemSecondLabel:e=>"".concat(e.address),ListIcon:c.A,entityType:"Facility",queryFn:F.Kw,startEmpty:!1,orderby:"name",order:"asc",disabled:D,formik:O})},"facilityContainer")]},"inlineControls"),(0,h.jsx)(y,{fieldName:"".concat(l,".timeFrame"),values:[k.P7.FCFS,k.P7.APPT,k.P7.ASAP],disabled:D,formik:O}),(0,h.jsx)(L,{fieldName:"".concat(l,".freightList"),disabled:D,formik:O}),(0,h.jsx)(A.A_,{fieldName:"".concat(l,".addInfo"),label:"Additional stop info",disabled:D,formik:O}),R&&R.length?(0,h.jsx)(S,{fieldName:"".concat(l,".driversInfo"),freightListPath:"".concat(l,".freightList"),disabled:D,formik:O}):null]})]})}function D(e){let{number:i,fieldName:t,bolListPath:l,stopsPath:c,disabled:m,formik:p}=e;const b=r()(p.values,"id"),x=r()(p.values,"".concat(t,".driversInfoId")),g=r()(p.values,l),j=r()(p.values,c),y=null===j||void 0===j?void 0:j.filter((e=>e.type===k.lk.PickUp)).flatMap(((e,i)=>e.freightList.filter((e=>e.freightId)).map(((e,t)=>({value:e.freightId,label:"Freight #".concat(t+1," (Stop PickUp#").concat(i+1,"): ").concat(e.pieces?e.pieces+" pcs, ":"").concat(e.length&&e.unitOfLength?e.length+" "+e.unitOfLength+" length, ":"").concat(e.weight&&e.unitOfWeight?e.weight+" "+e.unitOfWeight+" weight":"")}))).filter((e=>g&&g.includes(e.value))))),[v,N]=a.useState(!1);return(0,h.jsxs)(s.A,{expanded:v,onChange:()=>{N((e=>!e))},sx:{backgroundColor:"unset"},children:[(0,h.jsx)(o.A,{expandIcon:(0,h.jsx)(u.A,{}),"aria-controls":"freight-content",id:"freight-header",children:(0,h.jsx)(n.A,{sx:{width:"100%",display:"flex",justifyContent:"space-between"},children:(0,h.jsx)(f.A,{children:"Drivers Info #".concat(i)})})}),(0,h.jsxs)(d.A,{children:[(0,h.jsxs)(n.A,{sx:{display:"flex",width:"100%"},children:[(0,h.jsx)(n.A,{sx:{paddingRight:1,flex:1},children:(0,h.jsx)(A.zM,{fieldName:"".concat(t,".bol"),label:"Bol",items:y,disabled:m,formik:p})},"left"),(0,h.jsx)(n.A,{sx:{paddingLeft:1,flex:1},children:(0,h.jsx)(A.A_,{fieldName:"".concat(t,".signedBy"),label:"Signed By",disabled:m,formik:p})},"right")]},"inlineControls"),(0,h.jsx)(A.$c,{objectId:b,objectType:"Load",label:"Stop Drivers Files",tags:{["".concat(x)]:"StopDeliveryDriversInfo"},disabled:m})]})]})}function O(e){let{fieldName:i,bolListPath:t,stopsPath:a,disabled:l,formik:s}=e;const o=r()(s.values,i);return(0,h.jsx)(n.A,{sx:{paddingBottom:3,width:"100%"},children:o.map(((e,r)=>(0,h.jsx)(D,{number:r+1,fieldName:"".concat(i,"[").concat(r,"]"),bolListPath:t,stopsPath:a,disabled:l,formik:s},r)))},"deliveryDriversInfo")}function E(e){let{stopNumber:i,deliveryNumber:t,fieldName:l,stopsPath:p,onUp:v,onDown:C,onAdd:I,onRemove:w,upDisabled:L,downDisabled:P,removeDisabled:S,disabled:T,formik:D}=e;const E=r()(D.values,"".concat(l,".status")),R=r()(D.values,p),U=r()(D.values,"".concat(l,".driversInfo")),B=q(E),W=T,Y=null===R||void 0===R?void 0:R.filter((e=>e.type===k.lk.PickUp)).flatMap(((e,i)=>e.freightList.filter((e=>e.freightId)).map(((e,t)=>({value:e.freightId,label:"Freight #".concat(t+1," (Stop PickUp#").concat(i+1,"): ").concat(e.pieces?e.pieces+" pcs, ":"").concat(e.length&&e.unitOfLength?e.length+" "+e.unitOfLength+" length, ":"").concat(e.weight&&e.unitOfWeight?e.weight+" "+e.unitOfWeight+" weight":"")}))))),[M,V]=a.useState(!1);return(0,h.jsxs)(s.A,{expanded:M,onChange:()=>{V((e=>!e))},sx:{backgroundColor:"unset"},children:[(0,h.jsx)(o.A,{expandIcon:(0,h.jsx)(u.A,{}),"aria-controls":"stop-delivery-content",id:"stop-delivery-header",children:(0,h.jsxs)(n.A,{sx:{width:"100%",display:"flex",justifyContent:"space-between"},children:[(0,h.jsx)(f.A,{color:"New"===E?"new":"Completed"===E?"completed":"inProgress",children:"Stop (".concat(i,")").concat(B?" ["+B+"] ":" ","Delivery #").concat(t)}),(0,h.jsxs)(n.A,{children:[(0,h.jsx)(m.A,{component:"label","aria-label":"up",sx:{padding:0},onClickCapture:e=>{(0,N.d)(e),v()},disabled:T||L,children:(0,h.jsx)(b,{})}),(0,h.jsx)(m.A,{component:"label","aria-label":"down",sx:{padding:0},onClickCapture:e=>{(0,N.d)(e),C()},disabled:T||P,children:(0,h.jsx)(x,{})}),(0,h.jsx)(m.A,{component:"label","aria-label":"add",sx:{padding:0},onClickCapture:e=>{(0,N.d)(e),I()},disabled:T,children:(0,h.jsx)(g.A,{})}),(0,h.jsx)(m.A,{component:"label","aria-label":"remove",sx:{padding:0},onClickCapture:e=>{(0,N.d)(e),w()},disabled:T||S,children:(0,h.jsx)(j,{})})]})]})}),(0,h.jsxs)(d.A,{children:[(0,h.jsxs)(n.A,{sx:{display:"flex",width:"100%"},children:[(0,h.jsx)(n.A,{sx:{paddingRight:1,flex:1},children:(0,h.jsx)(A.zM,{fieldName:"".concat(l,".status"),label:"Status",items:k.$W,disabled:W,formik:D})},"statusContainer"),(0,h.jsx)(n.A,{sx:{paddingLeft:1,flex:1},children:(0,h.jsx)(A.Lw,{fieldName:"".concat(l,".facility"),label:"Facility",getSelectedLabel:e=>"".concat(e.name),getItemLabel:e=>"".concat(e.name),getItemSecondLabel:e=>"".concat(e.address),ListIcon:c.A,entityType:"Facility",queryFn:F.Kw,startEmpty:!1,orderby:"name",order:"asc",disabled:T,formik:D})},"facilityContainer")]},"inlineControls"),(0,h.jsx)(y,{fieldName:"".concat(l,".timeFrame"),values:[k.P7.FCFS,k.P7.APPT,k.P7.Direct],disabled:T,formik:D}),(0,h.jsx)(A.yJ,{fieldName:"".concat(l,".bolList"),label:"Freight List",items:Y,disabled:W,formik:D}),(0,h.jsx)(A.A_,{fieldName:"".concat(l,".addInfo"),label:"Additional stop info",disabled:T,formik:D}),U&&U.length?(0,h.jsx)(O,{fieldName:"".concat(l,".driversInfo"),bolListPath:"".concat(l,".bolList"),stopsPath:p,disabled:T,formik:D}):null]})]})}function R(e){let{fieldName:i,disabled:t,formik:a}=e;const l=r()(a.values,i),s=e=>{const t=l[e-1],r=l[e],n=l.toSpliced(e-1,2,r,t);a.setFieldValue(i,n)},o=e=>{const t=l[e],r=l[e+1],n=l.toSpliced(e,2,r,t);a.setFieldValue(i,n)},d=e=>{const t=l.toSpliced(e,1);a.setFieldValue(i,t)};return(0,h.jsx)(n.A,{sx:{paddingBottom:3,width:"100%"},children:l?l.map(((e,r)=>{switch(e.type){case k.lk.PickUp:return(0,h.jsx)(T,{stopNumber:r+1,pickUpNumber:l.slice(0,r+1).filter((e=>e.type===k.lk.PickUp)).length,fieldName:"".concat(i,"[").concat(r,"]"),onUp:()=>s(r),onDown:()=>o(r),onAdd:()=>(e=>{const t=l.toSpliced(e+1,0,(0,I.getInitialStopPickUpValues)());a.setFieldValue(i,t)})(r),onRemove:()=>d(r),upDisabled:0===r,downDisabled:r===l.length-2||0===r&&l[1].type===k.lk.Delivery,removeDisabled:0===r,disabled:t,formik:a},r);case k.lk.Delivery:return(0,h.jsx)(E,{stopNumber:r+1,deliveryNumber:l.slice(0,r+1).filter((e=>e.type===k.lk.Delivery)).length,fieldName:"".concat(i,"[").concat(r,"]"),stopsPath:"".concat(i),onUp:()=>s(r),onDown:()=>o(r),onAdd:()=>(e=>{const t=l.toSpliced(e+1,0,(0,I.getInitialStopDeliveryValues)());a.setFieldValue(i,t)})(r),onRemove:()=>d(r),upDisabled:r===l.length-1&&l[l.length-2].type===k.lk.PickUp||1===r,downDisabled:r===l.length-1,removeDisabled:r===l.length-1,disabled:t,formik:a},r)}})):null},"stops")}},8833:(e,i,t)=>{t.d(i,{$W:()=>m,IY:()=>s,Jf:()=>u,Ju:()=>n,Lv:()=>p,Ny:()=>h,P7:()=>x,Sr:()=>r,fo:()=>l,h9:()=>f,lk:()=>b,mW:()=>d,p5:()=>o,pI:()=>c,z5:()=>a});const a=["EN","UA","ES","RU"],l=["Admin","Super Admin"],r=["BROKER DOMESTIC","BROKER INTERNATIONAL","FREIGHT FORWARDER DOMESTIC","FREIGHT FORWARDER INTERNATIONAL","SHIPPER/CONSIGNEE DOMESTIC","SHIPPER/CONSIGNEE INTERNATIONAL","OTHER"],n=["Cargo van","Reefer van","Box truck","Box truck Reefer","Straight truck","Hotshot","Tented box"],s=["Available","Not Available","Will be available","On route"],o=["Yes","No"],d=["Hazmat","Tsa","TWIC","Tanker Endorsement"],c=["Dock height risers","Air ride","Lift gate","Keep from freezing","ICC bar","Vertical E-track","Horizontal E-track","Pallet jack","PPE","Ramps","Straps","Loads bars","Blankets","Pads","Fire extinguisher","Metal hooks","Reefer","Heater"],u=["Available","Planned","In Progress","TONU","Cancelled","Completed"],f=["New","On route to PU","On site PU","Loaded, Waiting GTG","GTG","Completed"],m=["New","On route to DEL","On site DEL","Unloaded, Waiting GTG","GTG","Completed"],p=["LBS","KG","TON"],h=["FT","IN","M","CM"];let b=function(e){return e.PickUp="PickUp",e.Delivery="Delivery",e}({}),x=function(e){return e.FCFS="FCFS",e.APPT="APPT",e.ASAP="ASAP",e.Direct="Direct",e}({})},287:(e,i,t)=>{function a(){return Math.floor(Date.now()/1e3).toString(16)+Array.from({length:16},(()=>Math.floor(16*Math.random()).toString(16))).join("").slice(0,16)}t.d(i,{M:()=>a})},9893:(e,i,t)=>{t.d(i,{A:()=>r});var a=t(9662),l=t(579);const r=(0,a.A)((0,l.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"Person")}}]);
//# sourceMappingURL=384.6fc96482.chunk.js.map