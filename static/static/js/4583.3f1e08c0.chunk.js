"use strict";(self.webpackChunk_log4u_admin_frontend=self.webpackChunk_log4u_admin_frontend||[]).push([[4583],{7521:(e,t,n)=>{n.d(t,{h:()=>o});var a=n(5043);const r=["title","titleId"];function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l.apply(null,arguments)}const i=(e,t)=>{let{title:n,titleId:i}=e,o=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.includes(a))continue;n[a]=e[a]}return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,r);return a.createElement("svg",l({id:"Layer_1","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 128 128",ref:t,"aria-labelledby":i},o),n?a.createElement("title",{id:i},n):null,a.createElement("circle",{cx:64,cy:75,r:45,fill:"none",strokeWidth:10,style:{stroke:"currentcolor"}}),a.createElement("path",{d:"M 96.94 40.17 C 96.94 23.36 82.19 9.73 64 9.73 C 45.81 9.73 31.06 23.36 31.06 40.17",style:{paintOrder:"fill",strokeWidth:6,stroke:"currentcolor",fill:"rgba(255, 255, 255, 0)"}}),a.createElement("polyline",{points:"39.98 19.5 37.64 5.17 50.61 14.17",style:{stroke:"currentcolor",strokeWidth:4,fill:"rgba(0, 0, 0, 0)"}}),a.createElement("polyline",{points:"87.05 19.5 89.39 5.17 76.42 14.17",style:{stroke:"currentcolor",strokeWidth:4,fill:"rgba(0, 0, 0, 0)"}}),a.createElement("path",{d:"M 29.27 108.3 C 28.05 113.07 26.83 117.84 25.62 122.61",style:{stroke:"currentcolor",paintOrder:"stroke",strokeLinecap:"round",strokeWidth:4}}),a.createElement("path",{d:"M 25.72 122.61 C 38.31 122.83 50.91 123.05 63.5 123.28",style:{stroke:"currentcolor",strokeWidth:4,strokeLinecap:"round"}}),a.createElement("path",{d:"M 98.96 108.3 C 100.18 113.07 101.4 117.84 102.61 122.61",style:{strokeLinecap:"round",strokeWidth:4,stroke:"currentcolor",paintOrder:"stroke"}}),a.createElement("path",{d:"M 102.5 122.61 C 88.91 122.85 76.32 123.07 64.72 123.28",style:{strokeLinecap:"round",stroke:"currentcolor",strokeWidth:4}}),a.createElement("polyline",{points:"63 39.5 63 79.5 79.91 93.83",style:{stroke:"currentcolor",strokeWidth:6,paintOrder:"fill",strokeLinecap:"round",fill:"rgba(255, 255, 255, 0)"}}))},o=(0,a.forwardRef)(i);n.p},6252:(e,t,n)=>{n.d(t,{h:()=>o});var a=n(5043);const r=["title","titleId"];function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l.apply(null,arguments)}const i=(e,t)=>{let{title:n,titleId:i}=e,o=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.includes(a))continue;n[a]=e[a]}return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,r);return a.createElement("svg",l({focusable:"false","aria-hidden":"true",viewBox:"0 0 24 24","data-testid":"LocalShippingIcon",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":i},o),n?a.createElement("title",{id:i},n):null,a.createElement("path",{d:"m20 8h-3v-4h-14c-1.1 0-2 .9-2 2v11h2c0 1.66 1.34 3 3 3s3-1.34 3-3h6c0 1.66 1.34 3 3 3s3-1.34 3-3h2v-5l-3-4zm-14 10.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm13.5-9 1.96 2.5h-4.46v-2.5h2.5zm-1.5 9c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm-14.7-9 1.53 0 0 1.66-3.03 0 1.51-1.66zm2.46-2.74 1.66-1.84 0 4.57.94 0 0 1.66-.94 0 0 1.93-1.66 0 0-6.33zm6.58 6.48c-.37-.06-.72-.19-1.04-.37-.32-.19-.61-.42-.86-.7-.28-.32-.49-.67-.61-1.05-.12-.39-.18-.87-.18-1.44l0-4.51 1.66 0 0 4.36c0 .31.01.57.05.78.03.21.08.39.16.55.08.15.19.28.32.38.14.1.31.19.52.27l0 1.74zm.91-1.74c.21-.07.37-.16.51-.26.14-.1.25-.23.33-.39.08-.14.14-.31.17-.5.03-.2.05-.47.05-.83l0-4.36 1.65 0 0 4.51c0 .58-.06 1.06-.18 1.44-.12.38-.33.73-.61 1.05-.25.29-.54.52-.87.7-.33.18-.68.3-1.04.37l0-1.74z",style:{fillRule:"evenodd",fill:"currentcolor"}}))},o=(0,a.forwardRef)(i);n.p},8807:(e,t,n)=>{n.d(t,{A:()=>g});var a=n(9379),r=n(5043),l=n(5563),i=n(950),o=n(4944),s=n(9129),c=n(7392),d=n(7166),u=n(6910),p=n(4133),h=n(5552),m=n(579);function g(e){let{location:t,onRefClick:n,addInfo:g,children:x}=e;const[f,v]=r.useState(null),[b,A]=r.useState([]),[y,j]=r.useState(null),k=r.useMemo((()=>(0,i.A)((e=>{((null===y||void 0===y?void 0:y.geocode(e))||Promise.reject()).then((t=>{if(t.results.length<1&&e.location){const t=new google.maps.LatLng(e.location),n={address_components:[],formatted_address:"[".concat(t.lat(),", ").concat(t.lng(),"]"),geometry:{location:t,location_type:google.maps.GeocoderLocationType.APPROXIMATE,viewport:new google.maps.LatLngBounds},place_id:"[".concat(t.lat(),", ").concat(t.lng(),"]"),types:[]};A([n])}else t.results.forEach((e=>e.formatted_address=(0,s.s)(e.address_components))),A(t.results)})).catch((()=>{A([])}))}),400)),[y]);r.useEffect((()=>{const e=t&&(0,p.U)(b);t&&e&&(null===e||void 0===e?void 0:e.place_id)!==(null===f||void 0===f?void 0:f.place_id)&&v(e)}),[t,b]),r.useEffect((()=>{t?k({location:{lat:t[0],lng:t[1]}}):(A([]),v(null))}),[y,t.join(",")]);return(0,m.jsxs)("span",{style:{display:"flex"},children:[(0,m.jsx)(l.Wrapper,(0,a.A)((0,a.A)({},(0,h.iz)()),{},{render:e=>{const t=(0,o.dh)(),[,n]=(0,o.pn)();return r.useLayoutEffect((()=>(e===l.Status.LOADING&&n(!0),e===l.Status.FAILURE&&t({severity:"error",message:"Error loading maps!"}),e===l.Status.SUCCESS&&j(new window.google.maps.Geocoder),()=>{e===l.Status.LOADING&&n(!1)})),[e]),null}})),(0,m.jsxs)("span",{style:{textOverflow:"ellipsis",overflow:"hidden",textAlign:"left"},title:"".concat(f?f.formatted_address:"")+"\n"+g,children:[n?(0,m.jsx)("a",{href:"#",target:"_blank",onClick:n,children:f?f.formatted_address:""}):f?f.formatted_address:"",g?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("br",{}),g]}):null,x]}),f?(0,m.jsx)(c.A,{size:"small",onClick:e=>{(0,d.d)(e),navigator.clipboard.writeText(f.formatted_address)},children:(0,m.jsx)(u.A,{sx:{height:"16px",width:"16px"}})}):null]})}},4583:(e,t,n)=>{n.r(t),n.d(t,{default:()=>ve});var a=n(45);var r=n(9379),l=n(5043),i=n(3216),o=n(9781),s=n(2836),c=n(5604),d=n(6240),u=n(4535),p=n(1546),h=n(7784),m=n(7739),g=n(39),x=n(2143),f=n(7353),v=n(1806),b=n(3460),A=n(9650),y=n(4882),j=n(9090),k=n(8076),w=n(8093),S=n(5263),E=n(4496),O=n(1596),P=n(7392),C=n(1045),I=n(1962),T=n(6353),D=n(8039),L=n(5392),N=n(1809),R=n(9397),F=n(6910),_=n(524),W=n(147),z=n(4681),M=n(1906),B=n(1079),G=n(579);const U=9e5,H=e=>{let t=(e-new Date)/6e4;return t=t>0?Math.ceil(t):0,t};function K(e){let{truck:t,index:n}=e;const[a,r]=l.useState(0),{reservedAt:i,reservedBy:c}=t,d=i&&new Date(new Date(i).getTime()+U),u=new Date<d;l.useEffect((()=>{if(u){r(H(d));const e=setInterval((()=>{r(H(d))}),2e3);return()=>{clearInterval(e),r(0)}}}),[u,d]);const p=(0,o.jE)(),{mutate:h}=(0,s.n)(B.lO,{onSuccess:()=>{p.invalidateQueries({queryKey:["trucks"],refetchType:"active"})},onError:()=>{}}),m="enhanced-table-checkbox-".concat(n),g="".concat(u&&c?"Reserved by:\n"+c.fullName+"\nTime left: "+a+"min":"");return(0,G.jsx)(M.A,{id:"".concat(m),title:g,sx:{m:1,height:"35px",lineHeight:"normal",fontSize:"x-small"},fullWidth:!0,variant:"contained",size:"small",color:"primary",onClickCapture:e=>{e.preventDefault(),e.stopPropagation(),h({id:t.id,reservedAt:u?null:new Date})},children:u?(0,G.jsxs)("span",{children:["Unreserve",(0,G.jsx)("br",{}),"(",a,"min)"]}):"Reserve"})}var V=n(7521),q=n(6252),Z=n(8612),Y=n(8807),J=n(5563),Q=n(7108),X=n(8903),$=n(1082),ee=n(950),te=n(4944),ne=n(9129),ae=n(4133),re=n(5552),le=n(8954);function ie(e){let{label:t,placeholder:n,filterSelectedOptions:a=!1,disabled:i,value:o,setValue:s}=e;const[c,d]=l.useState(null),[u,p]=l.useState([]),[m,g]=l.useState(null),[x,v]=l.useState([]),b=l.useMemo((()=>(0,ee.A)((e=>{((null===m||void 0===m?void 0:m.geocode(e))||Promise.reject()).then((t=>{if(t.results.length<1&&e.location){const t=new google.maps.LatLng(e.location),n={address_components:[],formatted_address:"[".concat(t.lat(),", ").concat(t.lng(),"]"),geometry:{location:t,location_type:google.maps.GeocoderLocationType.APPROXIMATE,viewport:new google.maps.LatLngBounds},place_id:"[".concat(t.lat(),", ").concat(t.lng(),"]"),types:[]};p([n])}else t.results.forEach((e=>e.formatted_address=(0,ne.s)(e.address_components))),p(t.results)})).catch((()=>{p([])}))}),400)),[m]);l.useEffect((()=>{c&&!u.find((e=>(null===e||void 0===e?void 0:e.place_id)===(null===c||void 0===c?void 0:c.place_id)))?v([c,...u]):v([...u])}),[u,c]),l.useEffect((()=>{const e=o&&(0,ae.U)(u);o&&e&&(null===e||void 0===e?void 0:e.place_id)!==(null===c||void 0===c?void 0:c.place_id)?d(e):o||(p([]),d(null))}),[m,o]);return(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(J.Wrapper,(0,r.A)((0,r.A)({},(0,re.iz)()),{},{render:e=>{const t=(0,te.dh)(),[,n]=(0,te.pn)();return l.useLayoutEffect((()=>(e===J.Status.LOADING&&n(!0),e===J.Status.FAILURE&&t({severity:"error",message:"Error loading maps!"}),e===J.Status.SUCCESS&&g(new window.google.maps.Geocoder),()=>{e===J.Status.LOADING&&n(!1)})),[e]),null}})),(0,G.jsx)(Q.A,{disabled:i,getOptionLabel:e=>"string"===typeof e?e:e.formatted_address||"",filterOptions:e=>e,options:x,isOptionEqualToValue:(e,t)=>(null===e||void 0===e?void 0:e.place_id)===(null===t||void 0===t?void 0:t.place_id),autoComplete:!0,includeInputInList:!0,filterSelectedOptions:a,value:c,noOptionsText:"No data",onChange:(e,t)=>{const n=(0,le.X)(t);d(t),s(n)},onInputChange:(e,t,n)=>{"input"===n&&b({address:t})},renderInput:e=>(0,G.jsx)(h.A,(0,r.A)((0,r.A)({},e),{},{fullWidth:!0,size:"small",label:t,placeholder:n})),renderOption:(e,t)=>(0,l.createElement)("li",(0,r.A)((0,r.A)({},(0,r.A)((0,r.A)({},e),{},{disabled:i})),{},{key:e.key||t.place_id}),(0,G.jsxs)(X.Ay,{container:!0,alignItems:"center",children:[(0,G.jsx)(X.Ay,{item:!0,sx:{display:"flex",width:44},children:(0,G.jsx)($.A,{sx:{color:"text.secondary"}})}),(0,G.jsx)(X.Ay,{item:!0,sx:{width:"calc(100% - 44px)",wordWrap:"break-word"},children:(0,G.jsx)(f.A,{component:"span",sx:{fontWeight:"regular"},children:t.formatted_address})})]}))})]})}var oe=n(8833),se=n(6431),ce=n(7166),de=n(7302),ue=n(9904);const pe=["status"],he=[{id:"truckNumber",orderField:"truckNumber",getData:e=>{const t=e.truckNumber?"".concat(e.truckNumber):"",n=e.rpmAvg?"".concat(e.rpmAvg):"";return{data:(0,G.jsxs)("span",{children:[t,(0,G.jsx)("br",{}),n]}),title:(t?"Truck number "+t:"")+"\n"+(n?"Average RPM "+n:"")}},numeric:!0,disablePadding:!1,label:"Truck\xa0Number"},{id:"mainContactInfo",getData:e=>{const t=e.coordinator||e.owner;let n="",a="",r="",l="";return t&&(n="./".concat((0,se.Yn)(t),"/view/").concat(t.id),a="".concat((0,se.Pw)(t)," "),r="".concat(t.fullName),l="".concat(null===t||void 0===t?void 0:t.phone)),{data:(0,G.jsxs)("span",{style:{display:"flex"},children:[(0,G.jsxs)("span",{style:{textOverflow:"ellipsis",overflow:"hidden",textAlign:"left"},children:[(0,G.jsx)("b",{children:a}),(0,G.jsx)("a",{href:n,target:"_blank",onClick:ce.d,children:r}),(0,G.jsx)("br",{}),(0,G.jsx)("a",{href:l?"tel:".concat(l):void 0,target:"_blank",onClick:ce.d,children:l||"\xa0"})]}),(0,G.jsx)(P.A,{size:"small",onClick:e=>{(0,ce.d)(e),navigator.clipboard.writeText(r+" "+l)},children:(0,G.jsx)(F.A,{sx:{height:"16px",width:"16px"}})})]}),title:a+""+r+"\n"+l}},numeric:!1,disablePadding:!0,label:"Main\xa0Contact\xa0info"},{id:"truckInfo",getData:e=>{const t=e.type?"".concat(e.type):"",n=e.equipment?"".concat(e.equipment.join(", ")):"";return{data:(0,G.jsxs)("span",{children:[t,(0,G.jsx)("br",{}),n]}),title:t+"\n"+n}},numeric:!1,disablePadding:!0,label:"Truck\xa0info"},{id:"dimsAndPayload",getData:e=>{const t=e.insideDims?"".concat(e.insideDims):"",n=e.doorDims?"".concat(e.doorDims):"",a=e.payload?"".concat(e.payload):"";return{data:(0,G.jsxs)("span",{children:[(t?t+" ":"")+"".concat(n?"("+n+")":""),(0,G.jsx)("br",{}),a]}),title:(t?t+" Inside ":"")+(n?n+" Door ":"")+"\n"+a+" Payload"}},numeric:!1,disablePadding:!0,label:"DIMS/Payload"},{id:"status",orderField:"status",getData:e=>{const t=(0,d.A)(),n="".concat(e.status),a=(()=>{switch(n){case"Will be available":return(0,G.jsx)(V.h,{style:{height:"24px",width:"24px",color:t.palette.cat.main}});case"On route":return(0,G.jsx)(q.h,{style:{height:"24px",width:"24px",color:t.palette.truck.main}});case"Available":return(0,G.jsx)(C.A,{sx:{height:"24px",width:"24px",bgcolor:W.A[500],margin:"auto"},children:"A"});case"Not Available":return(0,G.jsx)(C.A,{sx:{height:"24px",width:"24px",bgcolor:z.A[500],margin:"auto"},children:"N"});default:return n}})();return{data:(0,G.jsx)("span",{children:a}),title:n}},numeric:!1,disablePadding:!0,label:"Status"},{id:"willBeAtLocation",getData:e=>{if(null!==e&&void 0!==e&&e.availabilityLocation){const t="".concat(e.availabilityAtLocal?ue.k.format((0,de.bb)(e.availabilityAtLocal)):"");return{data:(0,G.jsx)(Y.A,{location:e.availabilityLocation,addInfo:t})}}return{data:""}},numeric:!1,disablePadding:!0,label:"Will\xa0be\xa0at\xa0location"},{id:"roadsDistance",getData:e=>{var t;return{data:"".concat((null===(t=e.milesByRoads)||void 0===t?void 0:t.toFixed(2))||"")}},numeric:!1,disablePadding:!0,label:"Road\xa0distance"},{id:"location",getData:(e,t)=>{const n=n=>{n.preventDefault(),(0,ce.d)(n),t([e])};if(null!==e&&void 0!==e&&e.lastLocation){const t="".concat(e.locationUpdatedAt?ue.k.format(new Date(e.locationUpdatedAt)):"").concat(e.locationUpdatedBy?" Set by "+e.locationUpdatedBy:"");return{data:(0,G.jsx)(Y.A,{location:e.lastLocation,onRefClick:n,addInfo:t})}}return{data:""}},numeric:!1,disablePadding:!0,label:"Last\xa0known\xa0location"}],me=(0,u.Ay)(y.A)((e=>{let{theme:t}=e;return{backgroundColor:t.palette.background.default}})),ge=(0,u.Ay)(g.A)((()=>({maxWidth:"100px",paddingTop:"6px",paddingBottom:"6px",whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"})));function xe(e){const{order:t,orderBy:n,onRequestSort:a}=e;return(0,G.jsx)(me,{children:(0,G.jsxs)(k.A,{children:[(0,G.jsx)(ge,{align:"center",padding:"checkbox",children:"Actions"}),he.map((e=>{return(0,G.jsx)(ge,{align:e.numeric?"right":"center",padding:e.disablePadding?"none":"normal",sortDirection:n===e.id&&t,children:(0,G.jsxs)(w.A,{active:e.orderField&&n===e.orderField,hideSortIcon:!e.orderField,direction:n===e.orderField?t:"asc",onClick:e.orderField?(r=e.orderField,e=>{a(e,r)}):()=>{},children:[e.label,e.orderField&&n===e.orderField?(0,G.jsx)(f.A,{component:"span",sx:_.A,children:"desc"===t?"sorted descending":"sorted ascending"}):null]})},e.id);var r}))]})})}function fe(e){const{selected:t,setQueryParams:n}=e,[i,c]=l.useState(void 0),[d,u]=l.useState(null),[g,v]=l.useState(null),[b,A]=l.useState(!1),[y,j]=l.useState(!1),[k,w]=l.useState(!1),[O,C]=l.useState(["Available"]),[F,_]=l.useState(200),[W,z]=l.useState(!1),M=(0,o.jE)(),U=(0,te.dh)(),{isLoading:H}=(0,s.n)(B.pF,{onSuccess:()=>{U({severity:"success",message:"Deleted"}),M.invalidateQueries(["trucks"])},onError:e=>{U({severity:"error",message:e instanceof Error?e.message:JSON.stringify(e)})}}),K=()=>{b||y||(n((e=>{const t=(0,r.A)({},e);return d&&(t.availableAfter=d),g&&(t.availableBefore=g),t})),z(!1))},V=()=>{w(!1),q()},q=()=>{O.length&&O.length!==oe.IY.length?(n((e=>(0,r.A)((0,r.A)({},e),{},{status:O}))),z(!1)):(n((e=>{const{status:t}=e,n=(0,a.A)(e,pe);return(0,r.A)({},n)})),z(!1))};return(0,G.jsxs)(S.A,{sx:(0,r.A)({overflow:"hidden",pl:{sm:2},pr:{xs:1,sm:1}},t.length>0&&{bgcolor:e=>(0,p.X4)(e.palette.primary.main,e.palette.action.activatedOpacity)}),children:[t.length>0?(0,G.jsxs)(E.A,{sx:{flex:"1 1 100%"},color:"inherit",variant:"subtitle1",component:"div",children:[t.length," selected"]}):(0,G.jsx)(E.A,{sx:{flex:"1 1 100%",whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"},variant:"h6",id:"tableTitle",component:"div",children:"Trucks Nearby"}),(0,G.jsx)(f.A,{component:"div",sx:{"& .MuiTextField-root":{m:1,width:"350px"}},children:(0,G.jsx)(ie,{label:"Enter city, state or zip",value:i,setValue:e=>{c(e),e?(n((t=>(0,r.A)((0,r.A)({},t),{},{lastLocation:e.join(","),distance:F}))),z(!1)):(n((e=>Object.assign({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(e),e)))),z(!1))}})}),(0,G.jsx)(f.A,{component:"div",sx:{"& .MuiTextField-root":{m:1,width:"200px"}},children:(0,G.jsx)(L.K,{label:"Select available from",ampm:!1,disablePast:!0,maxDateTime:g||void 0,disableIgnoringDatePartForTimeValidation:!0,viewRenderers:{hours:D.Zo,minutes:D.Zo,seconds:D.Zo},slotProps:{textField:{fullWidth:!0,size:"small",id:"availableFrom",name:"Select available from",onBlur:K}},value:d,onChange:e=>{u(e),z(!0)},onClose:K,onError:e=>{A(!!e)}})}),(0,G.jsx)(f.A,{component:"div",sx:{"& .MuiTextField-root":{m:1,width:"200px"}},children:(0,G.jsx)(L.K,{label:"Select available to",ampm:!1,disablePast:!0,minDateTime:d||void 0,disableIgnoringDatePartForTimeValidation:!0,viewRenderers:{hours:D.Zo,minutes:D.Zo,seconds:D.Zo},slotProps:{textField:{fullWidth:!0,size:"small",id:"availableTo",name:"Select available to",onBlur:K}},value:g,onChange:e=>{v(e),z(!0)},onClose:K,onError:e=>{j(!!e)}})}),(0,G.jsx)(f.A,{component:"div",sx:{"& .MuiTextField-root":{m:1,width:"140px"}},children:(0,G.jsx)(h.A,{select:!0,SelectProps:{multiple:!0,open:k,renderValue:e=>e.join(", "),onOpen:()=>{w(!0)},onClose:V},label:"Select Status",value:O,onChange:e=>{C(e.target.value),z(!0)},onKeyUpCapture:e=>{"Enter"===e.key&&((0,ce.d)(e),V())},onKeyDownCapture:e=>{"Enter"===e.key&&(0,ce.d)(e)},onBlur:q,size:"small",fullWidth:!0,title:O.join(", "),children:oe.IY.map((e=>(0,G.jsxs)(x.A,{value:e,children:[(0,G.jsx)(I.A,{checked:O.indexOf(e)>-1,id:e}),(0,G.jsx)(T.A,{primary:e})]},e)))})}),(0,G.jsx)(f.A,{component:"div",sx:{"& .MuiTextField-root":{m:1,width:"140px"}},children:(0,G.jsx)(h.A,{select:!0,label:"Select Distance",value:F,onChange:e=>{Number.isInteger(Number(e.target.value))&&(_(Number(e.target.value)),i&&(n((t=>(0,r.A)((0,r.A)({},t),{},{distance:Number(e.target.value)}))),z(!1)))},size:"small",fullWidth:!0,children:Array.from({length:20},((e,t)=>50+50*t)).map((e=>(0,G.jsx)(x.A,{value:e,children:e},e)))})}),(0,G.jsx)(m.A,{title:"Filter list",children:W||!(i||d||g||1!==O.length||"Available"!==O[0])?(0,G.jsx)("span",{children:(0,G.jsx)(P.A,{disabled:(!i||!F)&&!(d||g||1!==O.length||"Available"!==O[0])||b||y,onClick:()=>{const e={};i&&(e.lastLocation=i.join(","),e.distance=F),0!==O.length&&O.length!==oe.IY.length&&(e.status=O),e.availableAfter=d,e.availableBefore=g,n(e),z(!1)},children:(0,G.jsx)(N.A,{})})}):(0,G.jsx)("span",{children:(0,G.jsx)(P.A,{onClick:()=>{c(void 0),u(null),v(null),C(["Available"]),_(200),n({status:["Available"]}),z(!1)},children:(0,G.jsx)(R.A,{})})})}),(0,G.jsx)(Z.A,{visible:H})]})}function ve(){const[e,t]=l.useState(void 0),[n,a]=l.useState(void 0),[r,o]=l.useState([]),[s,d]=l.useState(0),[u,p]=l.useState(15),[h,m]=l.useState({status:["Available"]}),g=l.useRef(null),x=(0,i.zy)(),y=(0,i.Zp)(),w=(0,te.dh)(),[,S]=(0,te.ko)(),{isLoading:E,isFetching:P,error:C,data:{items:I,total:T}={items:[],total:0}}=(0,c.I)({queryKey:["trucks",s,u,n,e,h],queryFn:B.fG,keepPreviousData:!0,retry:!1});l.useEffect((()=>{C&&w({severity:"error",message:C instanceof Error?C.message:JSON.stringify(C)})}),[C]);const D=I||[];l.useEffect((()=>{if(g.current){g.current.scrollTo({top:0,left:0,behavior:"smooth"})}}),[D]),l.useEffect((()=>{const e=[];r.forEach((t=>{D.find((e=>e.id===t))&&e.push(t)})),o(e)}),[D]);return(0,G.jsxs)(f.A,{sx:{width:"100%",height:"100%"},children:[(0,G.jsxs)(O.A,{sx:{width:"100%",height:"100%",backgroundColor:"unset"},children:[(0,G.jsx)(fe,{selected:r,setQueryParams:e=>{m(e),d(0)}}),(0,G.jsx)(A.A,{ref:g,sx:{height:"calc(100% - 115px)"},children:(0,G.jsxs)(v.A,{sx:{minWidth:750},"aria-labelledby":"tableTitle",size:"small",stickyHeader:!0,children:[(0,G.jsx)(xe,{numSelected:r.length,order:e,orderBy:n,onSelectAllClick:e=>{if(e.target.checked){const e=D.map((e=>e.id));o(e)}else o([])},onRequestSort:(r,l)=>{const i=n===l&&"asc"===e;n===l&&"desc"===e?(t(void 0),a(void 0)):(t(i?"desc":"asc"),a(l))},rowCount:D.length}),(0,G.jsx)(b.A,{children:D.map(((e,t)=>{const n=(a="".concat(e.id),-1!==r.indexOf(a));var a;return(0,G.jsxs)(k.A,{hover:!0,onDoubleClick:t=>{y("./view/".concat(e.id),{relative:"path",state:{from:x},replace:!1})},role:"checkbox","aria-checked":n,tabIndex:-1,selected:n,sx:{cursor:"pointer"},children:[(0,G.jsx)(ge,{padding:"checkbox",children:(0,G.jsx)(K,{truck:e,index:t})}),he.map((t=>{const n=t.getData(e,S);return(0,G.jsx)(ge,{title:n.title,align:t.numeric?"right":"center",children:n.data},t.id)}))]},e.id)}))})]})}),(0,G.jsx)(j.A,{rowsPerPageOptions:[5,10,15,20,25,35,50],component:"div",count:T,rowsPerPage:u,page:s,onPageChange:(e,t)=>{d(t)},onRowsPerPageChange:e=>{p(parseInt(e.target.value,10)),d(0)}})]}),(0,G.jsx)(Z.A,{visible:E||P})]})}},8833:(e,t,n)=>{n.d(t,{$W:()=>h,IY:()=>o,Jf:()=>u,Ju:()=>i,Lv:()=>m,Ny:()=>g,P7:()=>f,Sr:()=>l,fo:()=>r,h9:()=>p,lk:()=>x,mW:()=>c,p5:()=>s,pI:()=>d,z5:()=>a});const a=["EN","UA","ES","RU"],r=["Admin","Super Admin"],l=["BROKER DOMESTIC","BROKER INTERNATIONAL","FREIGHT FORWARDER DOMESTIC","FREIGHT FORWARDER INTERNATIONAL","SHIPPER/CONSIGNEE DOMESTIC","SHIPPER/CONSIGNEE INTERNATIONAL","OTHER"],i=["Cargo van","Reefer van","Box truck","Box truck Reefer","Straight truck","Hotshot","Tented box"],o=["Available","Not Available","Will be available","On route"],s=["Yes","No"],c=["Hazmat","Tsa","TWIC","Tanker Endorsement"],d=["Dock height risers","Air ride","Lift gate","Keep from freezing","ICC bar","Vertical E-track","Horizontal E-track","Pallet jack","PPE","Ramps","Straps","Loads bars","Blankets","Pads","Fire extinguisher","Metal hooks","Reefer","Heater"],u=["Available","Planned","In Progress","TONU","Cancelled","Completed"],p=["New","On route to PU","On site PU","Loaded, Waiting GTG","GTG","Completed"],h=["New","On route to DEL","On site DEL","Unloaded, Waiting GTG","GTG","Completed"],m=["LBS","KG","TON"],g=["FT","IN","M","CM"];let x=function(e){return e.PickUp="PickUp",e.Delivery="Delivery",e}({}),f=function(e){return e.FCFS="FCFS",e.APPT="APPT",e.ASAP="ASAP",e.Direct="Direct",e}({})},9904:(e,t,n)=>{n.d(t,{k:()=>a});const a=Intl.DateTimeFormat("en-US",{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0})},6910:(e,t,n)=>{n.d(t,{A:()=>l});var a=n(9662),r=n(579);const l=(0,a.A)((0,r.jsx)("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"}),"ContentCopy")}}]);
//# sourceMappingURL=4583.3f1e08c0.chunk.js.map